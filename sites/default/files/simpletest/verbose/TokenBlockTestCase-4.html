<hr />ID #4 (<a href="TokenBlockTestCase-3.html">Previous</a> | <a href="TokenBlockTestCase-5.html">Next</a>)<hr />POST request to: admin/structure/block/add<hr />Ending URL: http://openpublish-7-x-1-0-beta9-core.dd:8083/admin/structure/block/add<hr />Fields: <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">array&nbsp;(<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'title'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'[user:name]'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'info'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Test&nbsp;token&nbsp;title&nbsp;block'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'body[value]'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;the&nbsp;test&nbsp;token&nbsp;title&nbsp;block.'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'regions[bartik]'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'-1'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'visibility'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'0'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'pages'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'custom'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'0'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'visibility__active_tab'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'form_build_id'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'form-T202BDhon5R-VAIh-QyCHce-Gs338naTYU5Wp1rbZsk'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'form_token'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'9Q0tXdr8NmLHl2mBGE4eSnI2GTnOfJyYHZuDgO1Ob9I'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'form_id'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'block_add_block_form'</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">'op'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Save&nbsp;block'</span><span style="color: #007700">,<br />)</span>
</span>
</code><hr /><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr">

<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
  <title>Home | Drupal</title>
  <style type="text/css" media="all">
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/system/system.base.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/system/system.menus.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/system/system.messages.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/system/system.theme.css?nvjzvi");
</style>
<style type="text/css" media="all">
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/system/system.admin.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/vertical-tabs.css?nvjzvi");
</style>
<style type="text/css" media="all">
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/field/theme/field.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/node/node.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/user/user.css?nvjzvi");
</style>
<style type="text/css" media="all">
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/filter/filter.css?nvjzvi");
</style>
<style type="text/css" media="all">
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/css/layout.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/css/style.css?nvjzvi");
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/css/colors.css?nvjzvi");
</style>
<style type="text/css" media="print">
@import url("http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/css/print.css?nvjzvi");
</style>

<!--[if lte IE 7]>
<link type="text/css" rel="stylesheet" href="http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/css/ie.css?nvjzvi" media="all" />
<![endif]-->

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/css/ie6.css?nvjzvi" media="all" />
<![endif]-->
  <script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/jquery.js?v=1.4.4"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/drupal.js?nvjzvi"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/vertical-tabs.js?v=1.0"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/form.js?v=7.39"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/textarea.js?v=7.39"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/filter/filter.js?nvjzvi"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/misc/collapse.js?v=7.39"></script>
<script type="text/javascript" src="http://openpublish-7-x-1-0-beta9-core.dd:8083/modules/block/block.js?nvjzvi"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"bartik","theme_token":"6-wdkEmZpgjxVFyDcyaf-VvorOWjA_vCsgYby_ceLUA","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"misc\/vertical-tabs.js":1,"misc\/form.js":1,"misc\/textarea.js":1,"modules\/filter\/filter.js":1,"misc\/collapse.js":1,"modules\/block\/block.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/system\/system.admin.css":1,"misc\/vertical-tabs.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/user\/user.css":1,"modules\/filter\/filter.css":1,"themes\/bartik\/css\/layout.css":1,"themes\/bartik\/css\/style.css":1,"themes\/bartik\/css\/colors.css":1,"themes\/bartik\/css\/print.css":1,"themes\/bartik\/css\/ie.css":1,"themes\/bartik\/css\/ie6.css":1}},"urlIsAjaxTrusted":{"\/admin\/structure\/block\/add":true}});
//--><!]]>
</script>
</head>
<body class="html not-front logged-in no-sidebars page-admin page-admin-structure page-admin-structure-block page-admin-structure-block-add" >
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page-wrapper"><div id="page">

  <div id="header" class="with-secondary-menu"><div class="section clearfix">

          <a href="/" title="Home" rel="home" id="logo">
        <img src="http://openpublish-7-x-1-0-beta9-core.dd:8083/themes/bartik/logo.png" alt="Home" />
      </a>
    
          <div id="name-and-slogan">

                              <div id="site-name">
              <strong>
                <a href="/" title="Home" rel="home"><span>Drupal</span></a>
              </strong>
            </div>
                  
        
      </div> <!-- /#name-and-slogan -->
    
    
    
          <div id="secondary-menu" class="navigation">
        <h2 class="element-invisible">Secondary menu</h2><ul id="secondary-menu-links" class="links inline clearfix"><li class="menu-2 first"><a href="/user">My account</a></li>
<li class="menu-12 last"><a href="/user/logout">Log out</a></li>
</ul>      </div> <!-- /#secondary-menu -->
    
  </div></div> <!-- /.section, /#header -->

      <div id="messages"><div class="section clearfix">
      <div class="messages error">
<h2 class="element-invisible">Error message</h2>
The <em class="placeholder">Block title</em> is using the following invalid tokens: [user:name].</div>
    </div></div> <!-- /.section, /#messages -->
  
  
  <div id="main-wrapper" class="clearfix"><div id="main" class="clearfix">

          <div id="breadcrumb"><h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div>
    
    
    <div id="content" class="column"><div class="section">
            <a id="main-content"></a>
                    <h1 class="title" id="page-title">
          Home        </h1>
                          <div class="tabs">
                  </div>
              <div class="region region-help">
    <div id="block-system-help" class="block block-system">

    
  <div class="content">
    <p>Use this page to create a new custom block.</p>
  </div>
</div>
  </div>
              <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <form action="/admin/structure/block/add" method="post" id="block-add-block-form" accept-charset="UTF-8"><div><div class="form-item form-type-textfield form-item-title">
  <label for="edit-title">Block title </label>
 <input type="text" id="edit-title" name="title" value="[user:name]" size="60" maxlength="255" class="form-text error" />
<div class="description">The title of the block as shown to the user. This field supports tokens.</div>
</div>
<div class="form-item form-type-textfield form-item-info">
  <label for="edit-info">Block description <span class="form-required" title="This field is required.">*</span></label>
 <input type="text" id="edit-info" name="info" value="Test token title block" size="60" maxlength="64" class="form-text required" />
<div class="description">A brief description of your block. Used on the <a href="/admin/structure/block">Blocks administration page</a>.</div>
</div>
<div class="text-format-wrapper"><div class="form-item form-type-textarea form-item-body-value">
  <label for="edit-body-value">Block body <span class="form-required" title="This field is required.">*</span></label>
 <div class="form-textarea-wrapper resizable"><textarea id="edit-body-value" name="body[value]" cols="60" rows="15" class="form-textarea required">This is the test token title block.</textarea></div>
</div>
<fieldset class="filter-wrapper form-wrapper" id="edit-body-format"><div class="fieldset-wrapper"><div class="filter-help form-wrapper" id="edit-body-format-help"><p><a href="/filter/tips" target="_blank">More information about text formats</a></p></div><div class="filter-guidelines form-wrapper" id="edit-body-format-guidelines"><div class="filter-guidelines-item filter-guidelines-plain_text"><h3>Plain text</h3><ul class="tips"><li>No HTML tags allowed.</li><li>Web page addresses and e-mail addresses turn into links automatically.</li><li>Lines and paragraphs break automatically.</li></ul></div></div></div></fieldset>
<div class="description">The content of the block as shown to the user.</div></div>
<fieldset class="form-wrapper" id="edit-regions"><legend><span class="fieldset-legend">Region settings</span></legend><div class="fieldset-wrapper"><div class="fieldset-description">Specify in which themes and regions this block is displayed.</div><div class="form-item form-type-select form-item-regions-bartik">
  <label for="edit-regions-bartik">Bartik (default theme) </label>
 <select id="edit-regions-bartik" name="regions[bartik]" class="form-select"><option value="-1" selected="selected">- None -</option><option value="header">Header</option><option value="help">Help</option><option value="highlighted">Highlighted</option><option value="featured">Featured</option><option value="content">Content</option><option value="sidebar_first">Sidebar first</option><option value="sidebar_second">Sidebar second</option><option value="triptych_first">Triptych first</option><option value="triptych_middle">Triptych middle</option><option value="triptych_last">Triptych last</option><option value="footer_firstcolumn">Footer first column</option><option value="footer_secondcolumn">Footer second column</option><option value="footer_thirdcolumn">Footer third column</option><option value="footer_fourthcolumn">Footer fourth column</option><option value="footer">Footer</option></select>
</div>
</div></fieldset>
<div id="edit-visibility-title" class="form-item form-type-item">
  <label for="edit-visibility-title">Visibility settings </label>
 
</div>
<h2 class="element-invisible">Vertical Tabs</h2><div class="vertical-tabs-panes"><fieldset class="collapsible collapsed form-wrapper" id="edit-path"><legend><span class="fieldset-legend">Pages</span></legend><div class="fieldset-wrapper"><div class="form-item form-type-radios form-item-visibility">
  <label for="edit-visibility--2">Show block on specific pages </label>
 <div id="edit-visibility--2" class="form-radios"><div class="form-item form-type-radio form-item-visibility">
 <input type="radio" id="edit-visibility-0" name="visibility" value="0" checked="checked" class="form-radio" />  <label class="option" for="edit-visibility-0">All pages except those listed </label>

</div>
<div class="form-item form-type-radio form-item-visibility">
 <input type="radio" id="edit-visibility-1" name="visibility" value="1" class="form-radio" />  <label class="option" for="edit-visibility-1">Only the listed pages </label>

</div>
</div>
</div>
<div class="form-item form-type-textarea form-item-pages">
  <label for="edit-pages"><span class="element-invisible">Pages</span> </label>
 <div class="form-textarea-wrapper resizable"><textarea id="edit-pages" name="pages" cols="60" rows="5" class="form-textarea"></textarea></div>
<div class="description">Specify pages by using their paths. Enter one path per line. The '*' character is a wildcard. Example paths are <em class="placeholder">blog</em> for the blog page and <em class="placeholder">blog/*</em> for every personal blog. <em class="placeholder">&lt;front&gt;</em> is the front page.</div>
</div>
</div></fieldset>
<fieldset class="collapsible collapsed form-wrapper" id="edit-node-type"><legend><span class="fieldset-legend">Content types</span></legend><div class="fieldset-wrapper"><div class="form-item form-type-checkboxes form-item-types">
  <label for="edit-types">Show block for specific content types </label>
 <div id="edit-types" class="form-checkboxes"></div>
<div class="description">Show this block only on pages that display content of the given type(s). If you select no types, there will be no type-specific limitation.</div>
</div>
</div></fieldset>
<fieldset class="collapsible collapsed form-wrapper" id="edit-role"><legend><span class="fieldset-legend">Roles</span></legend><div class="fieldset-wrapper"><div class="form-item form-type-checkboxes form-item-roles">
  <label for="edit-roles">Show block for specific roles </label>
 <div id="edit-roles" class="form-checkboxes"><div class="form-item form-type-checkbox form-item-roles-1">
 <input type="checkbox" id="edit-roles-1" name="roles[1]" value="1" class="form-checkbox" />  <label class="option" for="edit-roles-1">anonymous user </label>

</div>
<div class="form-item form-type-checkbox form-item-roles-2">
 <input type="checkbox" id="edit-roles-2" name="roles[2]" value="2" class="form-checkbox" />  <label class="option" for="edit-roles-2">authenticated user </label>

</div>
<div class="form-item form-type-checkbox form-item-roles-3">
 <input type="checkbox" id="edit-roles-3" name="roles[3]" value="3" class="form-checkbox" />  <label class="option" for="edit-roles-3">v6xWcbmw </label>

</div>
</div>
<div class="description">Show this block only for the selected role(s). If you select no roles, the block will be visible to all users.</div>
</div>
</div></fieldset>
<fieldset class="collapsible collapsed form-wrapper" id="edit-user"><legend><span class="fieldset-legend">Users</span></legend><div class="fieldset-wrapper"><div class="form-item form-type-radios form-item-custom">
  <label for="edit-custom">Customizable per user </label>
 <div id="edit-custom" class="form-radios"><div class="form-item form-type-radio form-item-custom">
 <input type="radio" id="edit-custom-0" name="custom" value="0" checked="checked" class="form-radio" />  <label class="option" for="edit-custom-0">Not customizable </label>

</div>
<div class="form-item form-type-radio form-item-custom">
 <input type="radio" id="edit-custom-1" name="custom" value="1" class="form-radio" />  <label class="option" for="edit-custom-1">Customizable, visible by default </label>

</div>
<div class="form-item form-type-radio form-item-custom">
 <input type="radio" id="edit-custom-2" name="custom" value="2" class="form-radio" />  <label class="option" for="edit-custom-2">Customizable, hidden by default </label>

</div>
</div>
<div class="description">Allow individual users to customize the visibility of this block in their account settings.</div>
</div>
</div></fieldset>
<input class="vertical-tabs-active-tab" type="hidden" name="visibility__active_tab" value="" />
</div><input type="hidden" name="form_build_id" value="form-MUfY2gMvH3WEok4NPZlD_AzL7jwX4F_HFMQxJfJ8DiA" />
<input type="hidden" name="form_token" value="9Q0tXdr8NmLHl2mBGE4eSnI2GTnOfJyYHZuDgO1Ob9I" />
<input type="hidden" name="form_id" value="block_add_block_form" />
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Save block" class="form-submit" /></div></div></form>  </div>
</div>
  </div>
      
    </div></div> <!-- /.section, /#content -->

    
  </div></div> <!-- /#main, /#main-wrapper -->

  
  <div id="footer-wrapper"><div class="section">

    
    
  </div></div> <!-- /.section, /#footer-wrapper -->

</div></div> <!-- /#page, /#page-wrapper -->
  </body>
</html>
